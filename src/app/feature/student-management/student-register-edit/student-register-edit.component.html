<div class="register-container">
    <div class="register-header">
      <img src="https://images.unsplash.com/photo-1523050854058-8df90110c9f1?w=1200&auto=format" alt="Cover" class="cover-image">
      <div class="header-overlay">
        <h1>Student Registration</h1>
        <p>Excellence Academy - Shaping the future through education</p>
      </div>
    </div>
  
    <div class="register-content">
        <!-- <div class="progress-line-container">
            <div class="progress-line" [style.width.%]="progressWidth" [style.background]="progressColor"></div>
          </div> -->
      <mat-stepper linear #stepper class="registration-stepper">
        <!-- Basic Information Step -->
        <mat-step [stepControl]="basicInfoForm" label="Basic Information">
          <form [formGroup]="basicInfoForm">
            <div class="step-content">
              <h2>Student Basic Information</h2>
              <!-- <p class="step-description">Please provide the student's basic personal details</p> -->
              
              <div class="form-section">
                <div class="form-row">
                  <mat-form-field appearance="outline">
                    <mat-label>First Name</mat-label>
                    <input matInput formControlName="firstName" required >
                    <mat-error *ngIf="basicInfoForm.get('firstName')?.hasError('required')">
                      First name is required
                    </mat-error>
                  </mat-form-field>
  
                  <mat-form-field appearance="outline">
                    <mat-label>Last Name</mat-label>
                    <input matInput formControlName="lastName" required>
                    <mat-error *ngIf="basicInfoForm.get('lastName')?.hasError('required')">
                      Last name is required
                    </mat-error>
                  </mat-form-field>
                </div>
  
                <div class="form-row">
                  <mat-form-field appearance="outline">
                    <mat-label>Date of Birth</mat-label>
                    <input matInput [matDatepicker]="dobPicker" formControlName="dob" required>
                    <mat-datepicker-toggle matSuffix [for]="dobPicker"></mat-datepicker-toggle>
                    <mat-datepicker #dobPicker></mat-datepicker>
                    <mat-error *ngIf="basicInfoForm.get('dob')?.hasError('required')">
                      Date of birth is required
                    </mat-error>
                  </mat-form-field>
  
                  <mat-form-field appearance="outline">
                    <mat-label>Gender</mat-label>
                    <mat-select formControlName="gender" required>
                      <mat-option value="male">Male</mat-option>
                      <mat-option value="female">Female</mat-option>
                      <mat-option value="other">Other</mat-option>
                    </mat-select>
                    <mat-error *ngIf="basicInfoForm.get('gender')?.hasError('required')">
                      Gender is required
                    </mat-error>
                  </mat-form-field>
                </div>
  
                <div class="form-row">
                  <mat-form-field appearance="outline">
                    <mat-label>Email Address</mat-label>
                    <input matInput type="email" formControlName="email" required>
                    <mat-error *ngIf="basicInfoForm.get('email')?.hasError('required')">
                      Email is required
                    </mat-error>
                    <mat-error *ngIf="basicInfoForm.get('email')?.hasError('email')">
                      Please enter a valid email address
                    </mat-error>
                  </mat-form-field>
  
                  <mat-form-field appearance="outline">
                    <mat-label>Phone Number</mat-label>
                    <input matInput formControlName="phoneNumber" required>
                    <mat-error *ngIf="basicInfoForm.get('phoneNumber')?.hasError('required')">
                      Phone number is required
                    </mat-error>
                  </mat-form-field>
                </div>
              </div>
  
              <div class="step-actions">
                <button mat-raised-button color="primary" matStepperNext>Next</button>
              </div>
            </div>
          </form>
        </mat-step>
  
        <!-- Identification Documents Step -->
        <mat-step [stepControl]="identificationForm" label="Identification">
          <form [formGroup]="identificationForm">
            <div class="step-content">
              <h2>Identification Documents</h2>
              <p class="step-description">Please provide the student's identification details</p>
              
              <div class="form-section">
                <div class="form-row">
                  <mat-form-field appearance="outline">
                    <mat-label>Aadhar Number</mat-label>
                    <input matInput formControlName="aadharNumber" required>
                    <mat-error *ngIf="identificationForm.get('aadharNumber')?.hasError('required')">
                      Aadhar number is required
                    </mat-error>
                  </mat-form-field>
                </div>
  
                <div class="form-row">
                  <mat-form-field appearance="outline">
                    <mat-label>Birth Certificate Number</mat-label>
                    <input matInput formControlName="birthCertificateNo">
                  </mat-form-field>
  
                  <mat-form-field appearance="outline">
                    <mat-label>Transfer Certificate Number</mat-label>
                    <input matInput formControlName="tcNumber">
                  </mat-form-field>
                </div>
              </div>
  
              <div class="step-actions">
                <button mat-button matStepperPrevious>Back</button>
                <button mat-raised-button color="primary" matStepperNext>Next</button>
              </div>
            </div>
          </form>
        </mat-step>
  
        <!-- Family Information Step -->
        <mat-step [stepControl]="familyInfoForm" label="Family Information">
          <form [formGroup]="familyInfoForm">
            <div class="step-content">
              <h2>Family Information</h2>
              <p class="step-description">Please provide details about the student's family</p>
              
              <div class="form-section">
                <div class="form-row">
                  <mat-form-field appearance="outline">
                    <mat-label>Father's Name</mat-label>
                    <input matInput formControlName="fatherName" required>
                    <mat-error *ngIf="familyInfoForm.get('fatherName')?.hasError('required')">
                      Father's name is required
                    </mat-error>
                  </mat-form-field>
  
                  <mat-form-field appearance="outline">
                    <mat-label>Mother's Name</mat-label>
                    <input matInput formControlName="motherName" required>
                    <mat-error *ngIf="familyInfoForm.get('motherName')?.hasError('required')">
                      Mother's name is required
                    </mat-error>
                  </mat-form-field>
                </div>
  
                <div class="form-row">
                  <mat-form-field appearance="outline">
                    <mat-label>Guardian's Name (if applicable)</mat-label>
                    <input matInput formControlName="guardianName">
                  </mat-form-field>
  
                  <mat-form-field appearance="outline">
                    <mat-label>Guardian's Phone (if applicable)</mat-label>
                    <input matInput formControlName="guardianPhone">
                  </mat-form-field>
                </div>
  
                <div class="form-row">
                  <mat-form-field appearance="outline">
                    <mat-label>Emergency Contact Name</mat-label>
                    <input matInput formControlName="emergencyContact" required>
                    <mat-error *ngIf="familyInfoForm.get('emergencyContact')?.hasError('required')">
                      Emergency contact name is required
                    </mat-error>
                  </mat-form-field>
  
                  <mat-form-field appearance="outline">
                    <mat-label>Emergency Contact Number</mat-label>
                    <input matInput formControlName="emergencyContactNo" required>
                    <mat-error *ngIf="familyInfoForm.get('emergencyContactNo')?.hasError('required')">
                      Emergency contact number is required
                    </mat-error>
                  </mat-form-field>
                </div>
              </div>
  
              <div class="step-actions">
                <button mat-button matStepperPrevious>Back</button>
                <button mat-raised-button color="primary" matStepperNext>Next</button>
              </div>
            </div>
          </form>
        </mat-step>
  
        <!-- Address Information Step -->
        <mat-step [stepControl]="addressForm" label="Address">
          <form [formGroup]="addressForm">
            <div class="step-content">
              <h2>Address Information</h2>
              <p class="step-description">Please provide the student's address details</p>
              
              <div class="form-section">
                <div class="form-row full-width">
                  <mat-form-field appearance="outline" class="full-width">
                    <mat-label>Street Address</mat-label>
                    <input matInput formControlName="streetAddress" required>
                    <mat-error *ngIf="addressForm.get('streetAddress')?.hasError('required')">
                      Street address is required
                    </mat-error>
                  </mat-form-field>
                </div>
  
                <div class="form-row">
                  <mat-form-field appearance="outline">
                    <mat-label>City</mat-label>
                    <input matInput formControlName="city" required>
                    <mat-error *ngIf="addressForm.get('city')?.hasError('required')">
                      City is required
                    </mat-error>
                  </mat-form-field>
  
                  <mat-form-field appearance="outline">
                    <mat-label>State</mat-label>
                    <input matInput formControlName="state" required>
                    <mat-error *ngIf="addressForm.get('state')?.hasError('required')">
                      State is required
                    </mat-error>
                  </mat-form-field>
  
                  <mat-form-field appearance="outline">
                    <mat-label>Postal Code</mat-label>
                    <input matInput formControlName="postalCode" required>
                    <mat-error *ngIf="addressForm.get('postalCode')?.hasError('required')">
                      Postal code is required
                    </mat-error>
                  </mat-form-field>
                </div>
              </div>
  
              <div class="step-actions">
                <button mat-button matStepperPrevious>Back</button>
                <button mat-raised-button color="primary" matStepperNext>Next</button>
              </div>
            </div>
          </form>
        </mat-step>
  
        <!-- Academic Information Step -->
        <mat-step [stepControl]="academicInfoForm" label="Academic Information">
          <form [formGroup]="academicInfoForm">
            <div class="step-content">
              <h2>Academic Information</h2>
              <p class="step-description">Please provide the student's academic details</p>
              
              <div class="form-section">
                <div class="form-row">
                  <mat-form-field appearance="outline">
                    <mat-label>Class</mat-label>
                    <mat-select formControlName="classId" required>
                      <mat-option value="1">Class 1</mat-option>
                      <mat-option value="2">Class 2</mat-option>
                      <mat-option value="3">Class 3</mat-option>
                      <mat-option value="4">Class 4</mat-option>
                      <mat-option value="5">Class 5</mat-option>
                      <mat-option value="6">Class 6</mat-option>
                      <mat-option value="7">Class 7</mat-option>
                      <mat-option value="8">Class 8</mat-option>
                      <mat-option value="9">Class 9</mat-option>
                      <mat-option value="10">Class 10</mat-option>
                      <mat-option value="11">Class 11</mat-option>
                      <mat-option value="12">Class 12</mat-option>
                    </mat-select>
                    <mat-error *ngIf="academicInfoForm.get('classId')?.hasError('required')">
                      Class is required
                    </mat-error>
                  </mat-form-field>
  
                  <mat-form-field appearance="outline">
                    <mat-label>Roll Number</mat-label>
                    <input matInput formControlName="rollNumber">
                  </mat-form-field>
                </div>
  
                <div class="form-row">
                  <mat-form-field appearance="outline">
                    <mat-label>Admission Date</mat-label>
                    <input matInput [matDatepicker]="admissionDatePicker" formControlName="admissionDate" required>
                    <mat-datepicker-toggle matSuffix [for]="admissionDatePicker"></mat-datepicker-toggle>
                    <mat-datepicker #admissionDatePicker></mat-datepicker>
                    <mat-error *ngIf="academicInfoForm.get('admissionDate')?.hasError('required')">
                      Admission date is required
                    </mat-error>
                  </mat-form-field>
  
                  <mat-form-field appearance="outline">
                    <mat-label>Status</mat-label>
                    <mat-select formControlName="status" required>
                      <mat-option value="active">Active</mat-option>
                      <mat-option value="inactive">Inactive</mat-option>
                    </mat-select>
                    <mat-error *ngIf="academicInfoForm.get('status')?.hasError('required')">
                      Status is required
                    </mat-error>
                  </mat-form-field>
                </div>
              </div>
  
              <div class="step-actions">
                <button mat-button matStepperPrevious>Back</button>
                <button mat-raised-button color="primary" matStepperNext>Next</button>
              </div>
            </div>
          </form>
        </mat-step>
  
        <!-- Review & Submit Step -->
        <mat-step>
            <ng-template matStepLabel>Review & Submit</ng-template>
            <div class="step-content">
              <h2>Review Your Information</h2>
              <p class="step-description">Please review all information before submitting</p>
              
              <div class="review-section">
                <h3>Basic Information</h3>
                <div class="review-grid">
                  <div class="review-item">
                    <span class="review-label">Name:</span>
                    <span class="review-value">{{basicInfoForm.get('firstName')?.value}} {{basicInfoForm.get('lastName')?.value}}</span>
                  </div>
                  <div class="review-item">
                    <span class="review-label">Date of Birth:</span>
                    <span class="review-value">{{basicInfoForm.get('dob')?.value | date}}</span>
                  </div>
                  <div class="review-item">
                    <span class="review-label">Gender:</span>
                    <span class="review-value">{{basicInfoForm.get('gender')?.value}}</span>
                  </div>
                  <div class="review-item">
                    <span class="review-label">Email:</span>
                    <span class="review-value">{{basicInfoForm.get('email')?.value}}</span>
                  </div>
                  <div class="review-item">
                    <span class="review-label">Phone:</span>
                    <span class="review-value">{{basicInfoForm.get('phoneNumber')?.value}}</span>
                  </div>
                </div>
          
                <mat-divider></mat-divider>
          
                <h3>Identification</h3>
                <div class="review-grid">
                  <div class="review-item">
                    <span class="review-label">Aadhar Number:</span>
                    <span class="review-value">{{identificationForm.get('aadharNumber')?.value}}</span>
                  </div>
                  <div class="review-item">
                    <span class="review-label">Birth Certificate:</span>
                    <span class="review-value">{{identificationForm.get('birthCertificateNo')?.value || 'Not provided'}}</span>
                  </div>
                  <div class="review-item">
                    <span class="review-label">TC Number:</span>
                    <span class="review-value">{{identificationForm.get('tcNumber')?.value || 'Not provided'}}</span>
                  </div>
                </div>
          
                <mat-divider></mat-divider>
          
                <h3>Family Information</h3>
                <div class="review-grid">
                  <div class="review-item">
                    <span class="review-label">Father's Name:</span>
                    <span class="review-value">{{familyInfoForm.get('fatherName')?.value}}</span>
                  </div>
                  <div class="review-item">
                    <span class="review-label">Mother's Name:</span>
                    <span class="review-value">{{familyInfoForm.get('motherName')?.value}}</span>
                  </div>
                  <div class="review-item">
                    <span class="review-label">Guardian's Name:</span>
                    <span class="review-value">{{familyInfoForm.get('guardianName')?.value || 'Not provided'}}</span>
                  </div>
                  <div class="review-item">
                    <span class="review-label">Emergency Contact:</span>
                    <span class="review-value">{{familyInfoForm.get('emergencyContact')?.value}}</span>
                  </div>
                </div>
          
                <mat-divider></mat-divider>
          
                <h3>Address</h3>
                <div class="review-grid">
                  <div class="review-item full-width">
                    <span class="review-label">Address:</span>
                    <span class="review-value">
                      {{addressForm.get('streetAddress')?.value}}, 
                      {{addressForm.get('city')?.value}}, 
                      {{addressForm.get('state')?.value}} - 
                      {{addressForm.get('postalCode')?.value}}
                    </span>
                  </div>
                </div>
          
                <mat-divider></mat-divider>
          
                <h3>Academic Information</h3>
                <div class="review-grid">
                  <div class="review-item">
                    <span class="review-label">Class:</span>
                    <span class="review-value">Class {{academicInfoForm.get('classId')?.value}}</span>
                  </div>
                  <div class="review-item">
                    <span class="review-label">Roll Number:</span>
                    <span class="review-value">{{academicInfoForm.get('rollNumber')?.value || 'Not assigned'}}</span>
                  </div>
                  <div class="review-item">
                    <span class="review-label">Admission Date:</span>
                    <span class="review-value">{{academicInfoForm.get('admissionDate')?.value | date}}</span>
                  </div>
                  <div class="review-item">
                    <span class="review-label">Status:</span>
                    <span class="review-value">{{academicInfoForm.get('status')?.value}}</span>
                  </div>
                </div>
              </div>
          
              <div class="terms-section">
                <mat-checkbox [(ngModel)]="termsAccepted" [ngModelOptions]="{standalone: true}">
                  I confirm that all the information provided is accurate and complete.
                </mat-checkbox>
              </div>
          
              <div class="step-actions">
                <button mat-button matStepperPrevious>Back</button>
                <button mat-raised-button color="primary" (click)="onSubmit()" [disabled]="!isFormValid()">
                  Submit Registration
                </button>
              </div>
            </div>
          </mat-step>
      </mat-stepper>
    </div>
  </div>